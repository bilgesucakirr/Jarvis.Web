@using Microsoft.AspNetCore.Components.Authorization
@inject AuthenticationStateProvider AuthStateProvider

<div class="sidebar-header ps-3 pt-3 pb-3 text-white">
    <span class="fs-4 fw-bold">JARVIS</span> <span style="font-size: 0.7em; opacity: 0.7; border: 1px solid rgba(255,255,255,0.3); border-radius: 4px; padding: 2px 5px;">v1.0</span>
</div>

<div class="nav-scrollable">
    <nav class="flex-column">

        <!-- 1. DASHBOARD (Herkesin Ana Sayfası) -->
        <!-- Editörler burada "Tüm Başvuruları", Yazarlar "Konferansları" görür -->
        <div class="nav-item px-3">
            <NavLink class="nav-link" href="dashboard" Match="NavLinkMatch.All">
                <span class="bi bi-speedometer2-nav-menu" aria-hidden="true"></span> Dashboard
            </NavLink>
        </div>

        <!-- 2. YAZAR MENÜSÜ -->
        <AuthorizeView Roles="Author">
            <!-- "New Submission" linkini kaldırdık çünkü artık Dashboard'dan yapılıyor -->
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="my-submissions">
                    <span class="bi bi-file-earmark-text-nav-menu" aria-hidden="true"></span> My Submissions
                </NavLink>
            </div>
        </AuthorizeView>

        <!-- 3. HAKEM MENÜSÜ -->
        <AuthorizeView Roles="Reviewer">
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="my-reviews">
                    <span class="bi bi-list-check-nav-menu" aria-hidden="true"></span> My Reviews
                </NavLink>
            </div>
        </AuthorizeView>

        <!-- 4. EDİTÖR MENÜSÜ -->
        <AuthorizeView Roles="EditorInChief,TrackChair,Admin">
            <!-- Dashboard zaten yönetim paneli olduğu için ekstra linke gerek yok -->
            <!-- İleride Kullanıcı Yönetimi vs. gelirse buraya ekleriz -->
            @* 
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="users">
                    <span class="bi bi-people-nav-menu" aria-hidden="true"></span> Users
                </NavLink>
            </div> 
            *@
        </AuthorizeView>

    </nav>
</div>

<style>
    /* Menü İkonları İçin Ufak Stil */
    .bi-speedometer2-nav-menu::before {
        content: "\f59e";
        margin-right: 10px;
    }

    .bi-file-earmark-text-nav-menu::before {
        content: "\f38b";
        margin-right: 10px;
    }

    .bi-list-check-nav-menu::before {
        content: "\f473";
        margin-right: 10px;
    }

    .bi-people-nav-menu::before {
        content: "\f4d5";
        margin-right: 10px;
    }

    .sidebar-header {
        background-color: rgba(0, 0, 0, 0.2);
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
</style>